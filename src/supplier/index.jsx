import { useState, useContext, useEffect  } from 'react'; 

import { useNavigate } from 'react-router-dom';
import BasicActivity from './basicactivities.jsx';
import ProductSPActivity from './productsupplieractivities.jsx';
import Paymenthistory from './paymenthistory.jsx';
import ReminderActivity from './reminderactivities.jsx';
import { Auth } from "../App.jsx"
       



function Supplier() {
    let navigate = useNavigate();
    let [nav, setnav] = useState(['Basic Information', 'Product Supplied', 'Payment History', 'Document & Contracts ']);
    let [index,setindex] = useState(0);
    const { isLoading, setLoader } = useContext(Auth)
    let [task, settask] = useState(0)
    let [tobecomplete, setcomplete] = useState(1)

    const [tableRows, setrow] = useState({});

    useEffect(()=>{
        fetch('https://sage-admin-backend.vercel.app/api/supplier')
        .then(e=>{
          return e.json()
        })
        .then(e=>{
          console.log(e[0])
  
          setrow(e)
          settask(1)
  
        })
      },[])
      useEffect(()=>{
        if(task === tobecomplete){
          setLoader(false)
        }else{
          setLoader(true)
  
        }
      },[task, tobecomplete])


    
    return ( <div className='w-[85%] h-full px-[2%] overflow-scroll'>
        
        <div className="mt-[2rem] flex items-center justify-between mb-4">
                    <span className="font-[700] text-[26px] text-[#333333]">Loan Repayment</span>
        
        <div className='flex gap-2 justify-center items-center h-[24px]'>
        <div  className="w-[137px] flex justify-center items-center bg-[#FFFFFF] pt-[8px] pl-[12px] relative">
        <div  className='w-full  h-[37px]  rounded-[8px] gap-[8px] items-center  flex justify-center cursor-pointer border border-[#E4E4E4]'>
            
    <svg width="20" height="21" viewBox="0 0 20 21" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M6.66602 14.6667L9.99935 18M9.99935 18L13.3327 14.6667M9.99935 18V10.5M3.23469 13C2.26159 11.9379 1.66602 10.5117 1.66602 8.94363C1.66602 5.66106 4.27606 3 7.49571 3C10.2437 3 12.6862 4.87672 13.3022 7.48571C15.2472 6.76397 17.3977 7.78639 18.1057 9.76936C18.7077 11.4559 18.0723 13.2941 16.6723 14.25" stroke="#565656" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
            <span className="text-[13px] leading-[21px]">Export</span>
            <svg style={{transform
    :"rotate(-90deg)",transition:'0.3s all'}} xmlns="http://www.w3.org/2000/svg" width="19" className="mr-1 size-5" height="19" fill="currentColor" viewBox="0 0 16 16"> <path fillRule="evenodd" d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"/> </svg>
        </div>
    </div>
            
        </div>
        </div>
        <div className="w-full flex gap-[24px]">
    <div className="flex flex-col h-[125px] w-[267.5px] bg-[#831AD31A] rounded-[0.5rem] border-[1px] border-[#E4E4E4] px-[16px] py-[6px]" style={{boxShadow: "0px 16px 30px 0px #585C5F29"}}>
                    <div className="flex items-center gap-1.5 ">
                    <div className="flex justify-center items-center rounded-full size-[40px]">
                    
                        
                        <svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M14 18.6667C13.077 18.6667 12.1748 18.393 11.4073 17.8802C10.6399 17.3674 10.0418 16.6386 9.68856 15.7859C9.33535 14.9331 9.24294 13.9948 9.423 13.0896C9.60307 12.1843 10.0475 11.3528 10.7002 10.7002C11.3528 10.0475 12.1843 9.60307 13.0896 9.423C13.9948 9.24294 14.9331 9.33536 15.7859 9.68856C16.6386 10.0418 17.3674 10.6399 17.8802 11.4073C18.393 12.1748 18.6667 13.077 18.6667 14C18.6667 15.2377 18.175 16.4247 17.2998 17.2998C16.4247 18.175 15.2377 18.6667 14 18.6667ZM6.63017 18.6667H1.16667C0.857247 18.6667 0.560501 18.5438 0.341709 18.325C0.122916 18.1062 0 17.8094 0 17.5C0.0110551 15.8248 0.620345 14.2087 1.71798 12.9431C2.81562 11.6775 4.32935 10.8458 5.98617 10.598C6.17869 10.571 6.3749 10.5926 6.55698 10.6607C6.73905 10.7289 6.90121 10.8414 7.02871 10.9882C7.15622 11.1349 7.24503 11.3112 7.28709 11.501C7.32914 11.6908 7.32309 11.8881 7.2695 12.075C7.09071 12.701 7.00001 13.3489 7 14C7.00034 15.0381 7.23398 16.0627 7.68367 16.9983C7.76825 17.1759 7.80655 17.372 7.79503 17.5684C7.78351 17.7647 7.72253 17.955 7.61776 18.1214C7.51298 18.2879 7.36783 18.4252 7.19577 18.5205C7.02372 18.6158 6.83036 18.6661 6.63367 18.6667H6.63017ZM19.8333 28H8.16667C7.85725 28 7.5605 27.8771 7.34171 27.6583C7.12292 27.4395 7 27.1428 7 26.8333C7 24.9768 7.7375 23.1963 9.05025 21.8836C10.363 20.5708 12.1435 19.8333 14 19.8333C15.8565 19.8333 17.637 20.5708 18.9497 21.8836C20.2625 23.1963 21 24.9768 21 26.8333C21 27.1428 20.8771 27.4395 20.6583 27.6583C20.4395 27.8771 20.1428 28 19.8333 28ZM21 9.33334C20.077 9.33334 19.1748 9.05964 18.4073 8.54686C17.6399 8.03408 17.0418 7.30525 16.6886 6.45253C16.3354 5.5998 16.2429 4.66149 16.423 3.75625C16.6031 2.851 17.0475 2.01948 17.7002 1.36684C18.3528 0.714192 19.1843 0.269735 20.0896 0.0896708C20.9948 -0.0903936 21.9331 0.00202198 22.7859 0.355231C23.6386 0.70844 24.3674 1.30658 24.8802 2.07401C25.393 2.84144 25.6667 3.74369 25.6667 4.66667C25.6667 5.90435 25.175 7.09133 24.2998 7.9665C23.4247 8.84167 22.2377 9.33334 21 9.33334ZM7 9.33334C6.07702 9.33334 5.17477 9.05964 4.40734 8.54686C3.63991 8.03408 3.04177 7.30525 2.68856 6.45253C2.33535 5.5998 2.24294 4.66149 2.423 3.75625C2.60307 2.851 3.04752 2.01948 3.70017 1.36684C4.35281 0.714192 5.18433 0.269735 6.08958 0.0896708C6.99482 -0.0903936 7.93313 0.00202198 8.78586 0.355231C9.63858 0.70844 10.3674 1.30658 10.8802 2.07401C11.393 2.84144 11.6667 3.74369 11.6667 4.66667C11.6667 5.90435 11.175 7.09133 10.2998 7.9665C9.42466 8.84167 8.23768 9.33334 7 9.33334ZM26.8333 18.6667H21.3698C21.1731 18.6661 20.9798 18.6158 20.8077 18.5205C20.6357 18.4252 20.4905 18.2879 20.3857 18.1214C20.281 17.955 20.22 17.7647 20.2085 17.5684C20.1969 17.372 20.2353 17.1759 20.3198 16.9983C20.7683 16.0625 21.0008 15.0378 21 14C20.9981 13.3487 20.9054 12.7008 20.7247 12.075C20.6708 11.8876 20.6647 11.6897 20.707 11.4993C20.7493 11.309 20.8387 11.1323 20.9669 10.9853C21.0952 10.8384 21.2582 10.726 21.441 10.6583C21.6239 10.5907 21.8209 10.5699 22.0138 10.598C23.6706 10.8458 25.1844 11.6775 26.282 12.9431C27.3797 14.2087 27.9889 15.8248 28 17.5C28 17.8094 27.8771 18.1062 27.6583 18.325C27.4395 18.5438 27.1428 18.6667 26.8333 18.6667Z" fill="#511082"/>
                        </svg>

                    </div>
                        <span className="text-[16px] font-[500]"></span>
                    </div>
                    <span className="text-[12px] mt-1 font-[600]">Total Number of Suppliers</span>
                    <span className="text-[26px] font-[700]">654</span>
                    {/* <div className="h-[24px] w-[83px] bg-[#1FC16B1A] border-[#ADF2CD] border px-[8px] gap-[4px] flex items-center rounded-md">
                        
                        <svg width="20" height="12" viewBox="0 0 20 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M13 1H19M19 1V7M19 1L10 10L6 6L1 11" stroke="#16884B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        <span>+12%</span>
                    </div> */}
                </div>
                <div className="flex flex-col h-[120px] w-[267.5px] bg-[#B5E45E1A] rounded-[0.5rem] border-[1px] border-[#E4E4E4] px-[16px] py-[6px]" style={{boxShadow: "0px 16px 30px 0px #585C5F29"}}>
                    <div className="flex items-center gap-1.5 ">
                    <div className="flex justify-center items-center bg-[#E1F4BF80] rounded-full size-[40px]">

                                        <svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M13.9973 6.74222L3.50783 3.23406L12.1435 0.355891C13.3405 -0.0431094 14.6355 -0.0431094 15.8325 0.355891L24.488 3.24106L13.9973 6.74222ZM10.285 13.3024L12.8225 9.07439L3.55216 5.98389C2.83233 5.74356 2.04366 6.03639 1.65283 6.68622L0.337998 8.87956C-0.440169 10.1769 0.182831 11.8604 1.61783 12.3387L7.54566 14.3151C8.58283 14.6604 9.72266 14.2392 10.285 13.3024ZM3.488 3.22706V3.23989L3.50783 3.23406L3.488 3.22706ZM12.8213 27.9452V13.6092L12.2847 14.5029C11.419 15.9449 9.9 16.7721 8.3005 16.7721C7.80466 16.7721 7.30183 16.6939 6.80716 16.5282L2.32133 15.0337V20.3514C2.32133 22.8621 3.92783 25.0916 6.31016 25.8849L11.4843 27.6092C11.9207 27.7504 12.3687 27.8659 12.8213 27.9441V27.9452ZM27.6613 8.91806L26.322 6.68622C25.9323 6.03639 25.1425 5.74356 24.4227 5.98389L15.1535 9.07322L17.691 13.3012C18.2533 14.2392 19.392 14.6604 20.4292 14.3139L26.4002 12.3236C27.813 11.8522 28.4267 10.1944 27.6602 8.91689L27.6613 8.91806ZM19.6755 16.7732C18.076 16.7732 16.557 15.9472 15.6913 14.5041L15.1547 13.6104V27.9394C15.647 27.8531 16.1347 27.7271 16.5967 27.5731H16.6083L21.6658 25.8861C24.0482 25.0916 25.6547 22.8632 25.6547 20.3526V15.0337L21.1688 16.5294C20.6742 16.6951 20.1713 16.7732 19.6755 16.7732Z" fill="#5F8717"/>
                    </svg>

                    </div>
                        <span className="text-[16px] mt-1 font-[500]"></span>
                    </div>
                    <span className="text-[12px] mt-1 font-[600]">Total Products Supplied</span>
                    <span className="text-[26px] font-[700]">5,000</span>
                    
                </div>
                <div className="flex flex-col h-[120px] w-[267.5px] bg-[#831AD31A] rounded-[0.5rem] border-[1px] border-[#E4E4E4] px-[16px] py-[6px]" style={{boxShadow: "0px 16px 30px 0px #585C5F29"}}>
                    <div className="flex items-center gap-1.5 ">
                    <div className="flex justify-center items-center  rounded-full size-[40px]">
                    
                    <svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M14 18.6667C13.077 18.6667 12.1748 18.393 11.4073 17.8802C10.6399 17.3674 10.0418 16.6386 9.68856 15.7859C9.33535 14.9331 9.24294 13.9948 9.423 13.0896C9.60307 12.1843 10.0475 11.3528 10.7002 10.7002C11.3528 10.0475 12.1843 9.60307 13.0896 9.423C13.9948 9.24294 14.9331 9.33536 15.7859 9.68856C16.6386 10.0418 17.3674 10.6399 17.8802 11.4073C18.393 12.1748 18.6667 13.077 18.6667 14C18.6667 15.2377 18.175 16.4247 17.2998 17.2998C16.4247 18.175 15.2377 18.6667 14 18.6667ZM6.63017 18.6667H1.16667C0.857247 18.6667 0.560501 18.5438 0.341709 18.325C0.122916 18.1062 0 17.8094 0 17.5C0.0110551 15.8248 0.620345 14.2087 1.71798 12.9431C2.81562 11.6775 4.32935 10.8458 5.98617 10.598C6.17869 10.571 6.3749 10.5926 6.55698 10.6607C6.73905 10.7289 6.90121 10.8414 7.02871 10.9882C7.15622 11.1349 7.24503 11.3112 7.28709 11.501C7.32914 11.6908 7.32309 11.8881 7.2695 12.075C7.09071 12.701 7.00001 13.3489 7 14C7.00034 15.0381 7.23398 16.0627 7.68367 16.9983C7.76825 17.1759 7.80655 17.372 7.79503 17.5684C7.78351 17.7647 7.72253 17.955 7.61776 18.1214C7.51298 18.2879 7.36783 18.4252 7.19577 18.5205C7.02372 18.6158 6.83036 18.6661 6.63367 18.6667H6.63017ZM19.8333 28H8.16667C7.85725 28 7.5605 27.8771 7.34171 27.6583C7.12292 27.4395 7 27.1428 7 26.8333C7 24.9768 7.7375 23.1963 9.05025 21.8836C10.363 20.5708 12.1435 19.8333 14 19.8333C15.8565 19.8333 17.637 20.5708 18.9497 21.8836C20.2625 23.1963 21 24.9768 21 26.8333C21 27.1428 20.8771 27.4395 20.6583 27.6583C20.4395 27.8771 20.1428 28 19.8333 28ZM21 9.33334C20.077 9.33334 19.1748 9.05964 18.4073 8.54686C17.6399 8.03408 17.0418 7.30525 16.6886 6.45253C16.3354 5.5998 16.2429 4.66149 16.423 3.75625C16.6031 2.851 17.0475 2.01948 17.7002 1.36684C18.3528 0.714192 19.1843 0.269735 20.0896 0.0896708C20.9948 -0.0903936 21.9331 0.00202198 22.7859 0.355231C23.6386 0.70844 24.3674 1.30658 24.8802 2.07401C25.393 2.84144 25.6667 3.74369 25.6667 4.66667C25.6667 5.90435 25.175 7.09133 24.2998 7.9665C23.4247 8.84167 22.2377 9.33334 21 9.33334ZM7 9.33334C6.07702 9.33334 5.17477 9.05964 4.40734 8.54686C3.63991 8.03408 3.04177 7.30525 2.68856 6.45253C2.33535 5.5998 2.24294 4.66149 2.423 3.75625C2.60307 2.851 3.04752 2.01948 3.70017 1.36684C4.35281 0.714192 5.18433 0.269735 6.08958 0.0896708C6.99482 -0.0903936 7.93313 0.00202198 8.78586 0.355231C9.63858 0.70844 10.3674 1.30658 10.8802 2.07401C11.393 2.84144 11.6667 3.74369 11.6667 4.66667C11.6667 5.90435 11.175 7.09133 10.2998 7.9665C9.42466 8.84167 8.23768 9.33334 7 9.33334ZM26.8333 18.6667H21.3698C21.1731 18.6661 20.9798 18.6158 20.8077 18.5205C20.6357 18.4252 20.4905 18.2879 20.3857 18.1214C20.281 17.955 20.22 17.7647 20.2085 17.5684C20.1969 17.372 20.2353 17.1759 20.3198 16.9983C20.7683 16.0625 21.0008 15.0378 21 14C20.9981 13.3487 20.9054 12.7008 20.7247 12.075C20.6708 11.8876 20.6647 11.6897 20.707 11.4993C20.7493 11.309 20.8387 11.1323 20.9669 10.9853C21.0952 10.8384 21.2582 10.726 21.441 10.6583C21.6239 10.5907 21.8209 10.5699 22.0138 10.598C23.6706 10.8458 25.1844 11.6775 26.282 12.9431C27.3797 14.2087 27.9889 15.8248 28 17.5C28 17.8094 27.8771 18.1062 27.6583 18.325C27.4395 18.5438 27.1428 18.6667 26.8333 18.6667Z" fill="#511082"/>
                        </svg>

                    </div>
                        <span className="text-[16px] font-[500]"></span>
                    </div>
                    <span className="text-[12px] mt-1 font-[600]">New Suppliers This Month</span>
                    <span className="text-[26px] font-[700]">30</span>
                    
                </div>
                <div className="flex flex-col h-[120px] w-[267.5px] bg-[#FB37481A] rounded-[0.5rem] border-[1px] border-[#E4E4E4] px-[16px] py-[6px]" style={{boxShadow: "0px 16px 30px 0px #585C5F29"}}>
                    <div className="flex items-center gap-1.5 ">
                    <div className="flex justify-center items-center bg-[#FDAFB680] rounded-full size-[40px]">
                    
                    <svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M13.9973 6.74222L3.50783 3.23406L12.1435 0.355891C13.3405 -0.0431094 14.6355 -0.0431094 15.8325 0.355891L24.488 3.24106L13.9973 6.74222ZM10.285 13.3024L12.8225 9.07439L3.55216 5.98389C2.83233 5.74356 2.04366 6.03639 1.65283 6.68622L0.337998 8.87956C-0.440169 10.1769 0.182831 11.8604 1.61783 12.3387L7.54566 14.3151C8.58283 14.6604 9.72266 14.2392 10.285 13.3024ZM3.488 3.22706V3.23989L3.50783 3.23406L3.488 3.22706ZM12.8213 27.9452V13.6092L12.2847 14.5029C11.419 15.9449 9.9 16.7721 8.3005 16.7721C7.80466 16.7721 7.30183 16.6939 6.80716 16.5282L2.32133 15.0337V20.3514C2.32133 22.8621 3.92783 25.0916 6.31016 25.8849L11.4843 27.6092C11.9207 27.7504 12.3687 27.8659 12.8213 27.9441V27.9452ZM27.6613 8.91806L26.322 6.68622C25.9323 6.03639 25.1425 5.74356 24.4227 5.98389L15.1535 9.07322L17.691 13.3012C18.2533 14.2392 19.392 14.6604 20.4292 14.3139L26.4002 12.3236C27.813 11.8522 28.4267 10.1944 27.6602 8.91689L27.6613 8.91806ZM19.6755 16.7732C18.076 16.7732 16.557 15.9472 15.6913 14.5041L15.1547 13.6104V27.9394C15.647 27.8531 16.1347 27.7271 16.5967 27.5731H16.6083L21.6658 25.8861C24.0482 25.0916 25.6547 22.8632 25.6547 20.3526V15.0337L21.1688 16.5294C20.6742 16.6951 20.1713 16.7732 19.6755 16.7732Z" fill="#B60413"/>
                    </svg>

                    </div>
                        <span className="text-[16px] font-[500]"></span>
                    </div>
                    <span className="text-[12px] font-[600] mt-1">Pending Orders  From Suppliers</span>
                    <span className="text-[26px] font-[700]">5,000</span>
                    
                
                
                </div>
    </div> 
    {/* <div className='w-full h-8 flex gap-2 mt-8 border-b border-b-[#E4E4E4]'> */}
        {/* {nav.map((e,i)=>{
            
        return (<div className='cursor-pointer' style={{borderBottom: index === i ? '2px solid rgba(114,23,184,1)': "none"}} onClick={()=>{
            setindex(i)
        }}>{e}</div>)
        }
        )} */}
    {/* </div> */}
    {index === 0 ?
    <BasicActivity  datatable={tableRows?.record}/> : 
    index === 1 ?
    <ProductSPActivity /> : 
    index === 2 ? <Paymenthistory /> : <ReminderActivity />}

    </div>);
}

export default Supplier;

